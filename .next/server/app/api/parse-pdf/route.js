"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/parse-pdf/route";
exports.ids = ["app/api/parse-pdf/route"];
exports.modules = {

/***/ "canvas":
/*!*************************!*\
  !*** external "canvas" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("canvas");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fparse-pdf%2Froute&page=%2Fapi%2Fparse-pdf%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fparse-pdf%2Froute.ts&appDir=%2FUsers%2Fjasonculbertson%2FDocuments%2FGitHub%2Fpowerwatch%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjasonculbertson%2FDocuments%2FGitHub%2Fpowerwatch&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fparse-pdf%2Froute&page=%2Fapi%2Fparse-pdf%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fparse-pdf%2Froute.ts&appDir=%2FUsers%2Fjasonculbertson%2FDocuments%2FGitHub%2Fpowerwatch%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjasonculbertson%2FDocuments%2FGitHub%2Fpowerwatch&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_jasonculbertson_Documents_GitHub_powerwatch_app_api_parse_pdf_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/parse-pdf/route.ts */ \"(rsc)/./app/api/parse-pdf/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/parse-pdf/route\",\n        pathname: \"/api/parse-pdf\",\n        filename: \"route\",\n        bundlePath: \"app/api/parse-pdf/route\"\n    },\n    resolvedPagePath: \"/Users/jasonculbertson/Documents/GitHub/powerwatch/app/api/parse-pdf/route.ts\",\n    nextConfigOutput,\n    userland: _Users_jasonculbertson_Documents_GitHub_powerwatch_app_api_parse_pdf_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/parse-pdf/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwYXJzZS1wZGYlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnBhcnNlLXBkZiUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnBhcnNlLXBkZiUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmphc29uY3VsYmVydHNvbiUyRkRvY3VtZW50cyUyRkdpdEh1YiUyRnBvd2Vyd2F0Y2glMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGamFzb25jdWxiZXJ0c29uJTJGRG9jdW1lbnRzJTJGR2l0SHViJTJGcG93ZXJ3YXRjaCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDNkI7QUFDMUc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS12MC1wcm9qZWN0Lz83OTg5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9qYXNvbmN1bGJlcnRzb24vRG9jdW1lbnRzL0dpdEh1Yi9wb3dlcndhdGNoL2FwcC9hcGkvcGFyc2UtcGRmL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9wYXJzZS1wZGYvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9wYXJzZS1wZGZcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3BhcnNlLXBkZi9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9qYXNvbmN1bGJlcnRzb24vRG9jdW1lbnRzL0dpdEh1Yi9wb3dlcndhdGNoL2FwcC9hcGkvcGFyc2UtcGRmL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9wYXJzZS1wZGYvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fparse-pdf%2Froute&page=%2Fapi%2Fparse-pdf%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fparse-pdf%2Froute.ts&appDir=%2FUsers%2Fjasonculbertson%2FDocuments%2FGitHub%2Fpowerwatch%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjasonculbertson%2FDocuments%2FGitHub%2Fpowerwatch&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/parse-pdf/pdf.config.ts":
/*!*****************************************!*\
  !*** ./app/api/parse-pdf/pdf.config.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initPdfLib: () => (/* binding */ initPdfLib)\n/* harmony export */ });\n// Configure PDF.js for Node.js environment\nconst initPdfLib = async ()=>{\n    // Use dynamic import for Node.js environment\n    const pdfjsLib = await __webpack_require__.e(/*! import() */ \"vendor-chunks/pdfjs-dist\").then(__webpack_require__.t.bind(__webpack_require__, /*! pdfjs-dist */ \"(rsc)/./node_modules/pdfjs-dist/build/pdf.js\", 23));\n    // Configure for Node.js environment\n    if (true) {\n        // Server-side: disable worker\n        pdfjsLib.GlobalWorkerOptions.workerSrc = \"\";\n        pdfjsLib.GlobalWorkerOptions.disableWorker = true;\n    }\n    return pdfjsLib;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3BhcnNlLXBkZi9wZGYuY29uZmlnLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFHQSwyQ0FBMkM7QUFDcEMsTUFBTUEsYUFBYTtJQUN4Qiw2Q0FBNkM7SUFDN0MsTUFBTUMsV0FBVyxNQUFNLDZMQUFPO0lBRTlCLG9DQUFvQztJQUNwQyxJQUFJLElBQWtCLEVBQWE7UUFDakMsOEJBQThCO1FBQzlCQSxTQUFTQyxtQkFBbUIsQ0FBQ0MsU0FBUyxHQUFHO1FBQ3pDRixTQUFTQyxtQkFBbUIsQ0FBQ0UsYUFBYSxHQUFHO0lBQy9DO0lBRUEsT0FBT0g7QUFDVCxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktdjAtcHJvamVjdC8uL2FwcC9hcGkvcGFyc2UtcGRmL3BkZi5jb25maWcudHM/NzdjMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQREZEb2N1bWVudExvYWRpbmdUYXNrIH0gZnJvbSAncGRmanMtZGlzdCc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcblxuLy8gQ29uZmlndXJlIFBERi5qcyBmb3IgTm9kZS5qcyBlbnZpcm9ubWVudFxuZXhwb3J0IGNvbnN0IGluaXRQZGZMaWIgPSBhc3luYyAoKSA9PiB7XG4gIC8vIFVzZSBkeW5hbWljIGltcG9ydCBmb3IgTm9kZS5qcyBlbnZpcm9ubWVudFxuICBjb25zdCBwZGZqc0xpYiA9IGF3YWl0IGltcG9ydCgncGRmanMtZGlzdCcpO1xuICBcbiAgLy8gQ29uZmlndXJlIGZvciBOb2RlLmpzIGVudmlyb25tZW50XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgIC8vIFNlcnZlci1zaWRlOiBkaXNhYmxlIHdvcmtlclxuICAgIHBkZmpzTGliLkdsb2JhbFdvcmtlck9wdGlvbnMud29ya2VyU3JjID0gJyc7XG4gICAgcGRmanNMaWIuR2xvYmFsV29ya2VyT3B0aW9ucy5kaXNhYmxlV29ya2VyID0gdHJ1ZTtcbiAgfVxuICBcbiAgcmV0dXJuIHBkZmpzTGliO1xufTtcblxuLy8gRXhwb3J0IHRoZSB0eXBlIGZvciBUeXBlU2NyaXB0XG5leHBvcnQgdHlwZSBQREZMaWIgPSB7XG4gIGdldERvY3VtZW50OiAoZGF0YTogQXJyYXlCdWZmZXIgfCBVaW50OEFycmF5IHwgeyBkYXRhOiBVaW50OEFycmF5IH0pID0+IFBERkRvY3VtZW50TG9hZGluZ1Rhc2s7XG59O1xuIl0sIm5hbWVzIjpbImluaXRQZGZMaWIiLCJwZGZqc0xpYiIsIkdsb2JhbFdvcmtlck9wdGlvbnMiLCJ3b3JrZXJTcmMiLCJkaXNhYmxlV29ya2VyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/parse-pdf/pdf.config.ts\n");

/***/ }),

/***/ "(rsc)/./app/api/parse-pdf/route.ts":
/*!************************************!*\
  !*** ./app/api/parse-pdf/route.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n/* harmony import */ var _pdf_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pdf.config */ \"(rsc)/./app/api/parse-pdf/pdf.config.ts\");\n\n\n\n// Helper function to create consistent JSON responses\nfunction createJsonResponse(data, status = 200) {\n    return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(JSON.stringify(data), {\n        status,\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"Access-Control-Allow-Origin\": \"*\",\n            \"Access-Control-Allow-Methods\": \"POST, OPTIONS\",\n            \"Access-Control-Allow-Headers\": \"Content-Type\"\n        }\n    });\n}\n// Helper function to create Supabase admin client\nfunction createSupabaseAdmin() {\n    const supabaseUrl = \"https://umuqydzeqqifiywqsxec.supabase.co\";\n    const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n    if (!supabaseUrl || !supabaseServiceKey) {\n        throw new Error(\"Missing required environment variables for Supabase admin client\");\n    }\n    return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2__.createClient)(supabaseUrl, supabaseServiceKey, {\n        auth: {\n            autoRefreshToken: false,\n            persistSession: false\n        }\n    });\n}\nasync function POST(request) {\n    // Validate environment variables first\n    if ( false || !process.env.SUPABASE_SERVICE_ROLE_KEY) {\n        console.error(\"Missing required environment variables:\", {\n            url: !!\"https://umuqydzeqqifiywqsxec.supabase.co\",\n            serviceKey: !!process.env.SUPABASE_SERVICE_ROLE_KEY\n        });\n        return createJsonResponse({\n            error: \"Server configuration error\",\n            details: \"Missing required environment variables\"\n        }, 500);\n    }\n    // Handle preflight request\n    if (request.method === \"OPTIONS\") {\n        return createJsonResponse({\n            message: \"OK\"\n        }, 200);\n    }\n    try {\n        console.log(\"Starting PDF parse request...\");\n        // Get the PDF path from the request\n        let pdfPath;\n        try {\n            const body = await request.json();\n            pdfPath = body.pdfPath;\n        } catch (error) {\n            console.error(\"Error parsing request body:\", error);\n            return createJsonResponse({\n                error: \"Invalid request body\",\n                details: \"Request body must be valid JSON with a pdfPath property\"\n            }, 400);\n        }\n        if (!pdfPath) {\n            console.error(\"No PDF path provided\");\n            return createJsonResponse({\n                error: \"No PDF path provided\",\n                details: \"The request must include a PDF path\"\n            }, 400);\n        }\n        console.log(\"Downloading PDF from path:\", pdfPath);\n        // Create Supabase admin client and download the PDF\n        const supabaseAdmin = createSupabaseAdmin();\n        const { data: pdfData, error: downloadError } = await supabaseAdmin.storage.from(\"pdfs\").download(pdfPath);\n        if (downloadError) {\n            console.error(\"Error downloading PDF:\", downloadError);\n            return createJsonResponse({\n                error: \"Failed to download PDF\",\n                details: downloadError.message,\n                code: downloadError.code || \"UNKNOWN_ERROR\"\n            }, 500);\n        }\n        if (!pdfData) {\n            return createJsonResponse({\n                error: \"No PDF data received\",\n                details: \"The file may be empty or not accessible\"\n            }, 404);\n        }\n        console.log(\"PDF downloaded successfully:\", {\n            size: pdfData.size,\n            type: pdfData.type\n        });\n        // Convert Blob to Uint8Array\n        console.log(\"Converting PDF to Uint8Array...\");\n        const arrayBuffer = await pdfData.arrayBuffer();\n        const uint8Array = new Uint8Array(arrayBuffer);\n        console.log(\"Uint8Array created, size:\", uint8Array.length, \"bytes\");\n        console.log(\"Loading PDF with PDF.js...\");\n        try {\n            // Initialize PDF.js with Node.js configuration\n            const pdfLib = await (0,_pdf_config__WEBPACK_IMPORTED_MODULE_1__.initPdfLib)();\n            // Load the PDF document with minimal configuration\n            const loadingTask = pdfLib.getDocument({\n                data: uint8Array,\n                verbosity: 0\n            });\n            console.log(\"PDF loading task created\");\n            const pdfDocument = await loadingTask.promise;\n            console.log(\"PDF loaded, pages:\", pdfDocument.numPages);\n            // Get metadata\n            const metadata = await pdfDocument.getMetadata().catch((err)=>({\n                    info: {},\n                    metadata: {}\n                }));\n            console.log(\"Metadata loaded:\", metadata);\n            // Extract text from each page\n            const pages = [];\n            for(let i = 1; i <= pdfDocument.numPages; i++){\n                console.log(`Processing page ${i}/${pdfDocument.numPages}`);\n                const page = await pdfDocument.getPage(i);\n                try {\n                    const textContent = await page.getTextContent();\n                    // Process text items\n                    const pageText = textContent.items.map((item)=>item.str).join(\" \").replace(/\\s+/g, \" \").trim();\n                    pages.push({\n                        pageNumber: i,\n                        content: pageText || \"[No text content found]\"\n                    });\n                } catch (pageError) {\n                    console.error(`Error processing page ${i}:`, pageError);\n                    pages.push({\n                        pageNumber: i,\n                        content: `[Error processing page ${i}]`,\n                        error: pageError.message\n                    });\n                }\n            }\n            // Combine all text for raw content\n            const rawContent = pages.map((p)=>p.content).filter((content)=>content !== \"[No text content found]\").join(\"\\n\\n\");\n            return createJsonResponse({\n                success: true,\n                pages,\n                metadata: {\n                    title: metadata.info?.Title || \"\",\n                    author: metadata.info?.Author || \"\",\n                    subject: metadata.info?.Subject || \"\",\n                    keywords: metadata.info?.Keywords || \"\",\n                    creator: metadata.info?.Creator || \"\",\n                    producer: metadata.info?.Producer || \"\",\n                    pageCount: pdfDocument.numPages,\n                    version: metadata.info?.PDFFormatVersion,\n                    encrypted: metadata.info?.IsEncrypted || false\n                },\n                rawContent: rawContent || \"[No text content found]\"\n            });\n        } catch (error) {\n            console.error(\"PDF.js processing error:\", error);\n            throw error; // Let the outer catch handle it\n        }\n    } catch (error) {\n        console.error(\"Error parsing PDF:\", error);\n        // Provide more detailed error information\n        const errorMessage = error instanceof Error ? error.message : \"Unknown error\";\n        const errorStack = error instanceof Error ? error.stack : undefined;\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to parse PDF\",\n            details: errorMessage,\n            stack: errorStack,\n            timestamp: new Date().toISOString()\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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c0JBO1FBQ3BDLDBDQUEwQztRQUMxQyxNQUFNMEUsZUFBZTFFLGlCQUFpQlAsUUFBUU8sTUFBTUssT0FBTyxHQUFHO1FBQzlELE1BQU1zRSxhQUFhM0UsaUJBQWlCUCxRQUFRTyxNQUFNNEUsS0FBSyxHQUFHQztRQUUxRCxPQUFPcEcscURBQVlBLENBQUNnQyxJQUFJLENBQ3RCO1lBQ0VULE9BQU87WUFDUEcsU0FBU3VFO1lBQ1RFLE9BQU9EO1lBQ1BHLFdBQVcsSUFBSUMsT0FBT0MsV0FBVztRQUNuQyxHQUNBO1lBQUVsRyxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL215LXYwLXByb2plY3QvLi9hcHAvYXBpL3BhcnNlLXBkZi9yb3V0ZS50cz82OGViIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xuaW1wb3J0IHsgaW5pdFBkZkxpYiB9IGZyb20gJy4vcGRmLmNvbmZpZyc7XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgY29uc2lzdGVudCBKU09OIHJlc3BvbnNlc1xuZnVuY3Rpb24gY3JlYXRlSnNvblJlc3BvbnNlKGRhdGE6IGFueSwgc3RhdHVzOiBudW1iZXIgPSAyMDApIHtcbiAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoZGF0YSksIHtcbiAgICBzdGF0dXMsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nOiAnKicsXG4gICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcyc6ICdQT1NULCBPUFRJT05TJyxcbiAgICAgICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJzogJ0NvbnRlbnQtVHlwZSdcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIFN1cGFiYXNlIGFkbWluIGNsaWVudFxuZnVuY3Rpb24gY3JlYXRlU3VwYWJhc2VBZG1pbigpIHtcbiAgY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkw7XG4gIGNvbnN0IHN1cGFiYXNlU2VydmljZUtleSA9IHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVk7XG5cbiAgaWYgKCFzdXBhYmFzZVVybCB8fCAhc3VwYWJhc2VTZXJ2aWNlS2V5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkIGVudmlyb25tZW50IHZhcmlhYmxlcyBmb3IgU3VwYWJhc2UgYWRtaW4gY2xpZW50Jyk7XG4gIH1cblxuICByZXR1cm4gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZVNlcnZpY2VLZXksIHtcbiAgICBhdXRoOiB7XG4gICAgICBhdXRvUmVmcmVzaFRva2VuOiBmYWxzZSxcbiAgICAgIHBlcnNpc3RTZXNzaW9uOiBmYWxzZVxuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIC8vIFZhbGlkYXRlIGVudmlyb25tZW50IHZhcmlhYmxlcyBmaXJzdFxuICBpZiAoIXByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCB8fCAhcHJvY2Vzcy5lbnYuU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgZW52aXJvbm1lbnQgdmFyaWFibGVzOicsIHtcbiAgICAgIHVybDogISFwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwsXG4gICAgICBzZXJ2aWNlS2V5OiAhIXByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVlcbiAgICB9KTtcbiAgICByZXR1cm4gY3JlYXRlSnNvblJlc3BvbnNlKHtcbiAgICAgIGVycm9yOiAnU2VydmVyIGNvbmZpZ3VyYXRpb24gZXJyb3InLFxuICAgICAgZGV0YWlsczogJ01pc3NpbmcgcmVxdWlyZWQgZW52aXJvbm1lbnQgdmFyaWFibGVzJ1xuICAgIH0sIDUwMCk7XG4gIH1cbiAgLy8gSGFuZGxlIHByZWZsaWdodCByZXF1ZXN0XG4gIGlmIChyZXF1ZXN0Lm1ldGhvZCA9PT0gJ09QVElPTlMnKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUpzb25SZXNwb25zZSh7IG1lc3NhZ2U6ICdPSycgfSwgMjAwKTtcbiAgfVxuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKCdTdGFydGluZyBQREYgcGFyc2UgcmVxdWVzdC4uLicpO1xuICAgIFxuICAgIC8vIEdldCB0aGUgUERGIHBhdGggZnJvbSB0aGUgcmVxdWVzdFxuICAgIGxldCBwZGZQYXRoOiBzdHJpbmc7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICAgIHBkZlBhdGggPSBib2R5LnBkZlBhdGg7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgcmVxdWVzdCBib2R5OicsIGVycm9yKTtcbiAgICAgIHJldHVybiBjcmVhdGVKc29uUmVzcG9uc2Uoe1xuICAgICAgICBlcnJvcjogJ0ludmFsaWQgcmVxdWVzdCBib2R5JyxcbiAgICAgICAgZGV0YWlsczogJ1JlcXVlc3QgYm9keSBtdXN0IGJlIHZhbGlkIEpTT04gd2l0aCBhIHBkZlBhdGggcHJvcGVydHknXG4gICAgICB9LCA0MDApO1xuICAgIH1cbiAgICBcbiAgICBpZiAoIXBkZlBhdGgpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIFBERiBwYXRoIHByb3ZpZGVkJyk7XG4gICAgICByZXR1cm4gY3JlYXRlSnNvblJlc3BvbnNlKHsgXG4gICAgICAgIGVycm9yOiAnTm8gUERGIHBhdGggcHJvdmlkZWQnLFxuICAgICAgICBkZXRhaWxzOiAnVGhlIHJlcXVlc3QgbXVzdCBpbmNsdWRlIGEgUERGIHBhdGgnXG4gICAgICB9LCA0MDApO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygnRG93bmxvYWRpbmcgUERGIGZyb20gcGF0aDonLCBwZGZQYXRoKTtcbiAgICBcbiAgICAvLyBDcmVhdGUgU3VwYWJhc2UgYWRtaW4gY2xpZW50IGFuZCBkb3dubG9hZCB0aGUgUERGXG4gICAgY29uc3Qgc3VwYWJhc2VBZG1pbiA9IGNyZWF0ZVN1cGFiYXNlQWRtaW4oKTtcbiAgICBjb25zdCB7IGRhdGE6IHBkZkRhdGEsIGVycm9yOiBkb3dubG9hZEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluLnN0b3JhZ2VcbiAgICAgIC5mcm9tKCdwZGZzJylcbiAgICAgIC5kb3dubG9hZChwZGZQYXRoKTtcbiAgICBcbiAgICBpZiAoZG93bmxvYWRFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZG93bmxvYWRpbmcgUERGOicsIGRvd25sb2FkRXJyb3IpO1xuICAgICAgcmV0dXJuIGNyZWF0ZUpzb25SZXNwb25zZSh7XG4gICAgICAgIGVycm9yOiAnRmFpbGVkIHRvIGRvd25sb2FkIFBERicsXG4gICAgICAgIGRldGFpbHM6IGRvd25sb2FkRXJyb3IubWVzc2FnZSxcbiAgICAgICAgY29kZTogZG93bmxvYWRFcnJvci5jb2RlIHx8ICdVTktOT1dOX0VSUk9SJ1xuICAgICAgfSwgNTAwKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKCFwZGZEYXRhKSB7XG4gICAgICByZXR1cm4gY3JlYXRlSnNvblJlc3BvbnNlKHtcbiAgICAgICAgZXJyb3I6ICdObyBQREYgZGF0YSByZWNlaXZlZCcsXG4gICAgICAgIGRldGFpbHM6ICdUaGUgZmlsZSBtYXkgYmUgZW1wdHkgb3Igbm90IGFjY2Vzc2libGUnXG4gICAgICB9LCA0MDQpO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygnUERGIGRvd25sb2FkZWQgc3VjY2Vzc2Z1bGx5OicsIHtcbiAgICAgIHNpemU6IHBkZkRhdGEuc2l6ZSxcbiAgICAgIHR5cGU6IHBkZkRhdGEudHlwZVxuICAgIH0pO1xuXG4gICAgLy8gQ29udmVydCBCbG9iIHRvIFVpbnQ4QXJyYXlcbiAgICBjb25zb2xlLmxvZygnQ29udmVydGluZyBQREYgdG8gVWludDhBcnJheS4uLicpO1xuICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgcGRmRGF0YS5hcnJheUJ1ZmZlcigpO1xuICAgIGNvbnN0IHVpbnQ4QXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcik7XG4gICAgY29uc29sZS5sb2coJ1VpbnQ4QXJyYXkgY3JlYXRlZCwgc2l6ZTonLCB1aW50OEFycmF5Lmxlbmd0aCwgJ2J5dGVzJyk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ0xvYWRpbmcgUERGIHdpdGggUERGLmpzLi4uJyk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIEluaXRpYWxpemUgUERGLmpzIHdpdGggTm9kZS5qcyBjb25maWd1cmF0aW9uXG4gICAgICBjb25zdCBwZGZMaWIgPSBhd2FpdCBpbml0UGRmTGliKCk7XG4gICAgICBcbiAgICAgIC8vIExvYWQgdGhlIFBERiBkb2N1bWVudCB3aXRoIG1pbmltYWwgY29uZmlndXJhdGlvblxuICAgICAgY29uc3QgbG9hZGluZ1Rhc2sgPSBwZGZMaWIuZ2V0RG9jdW1lbnQoe1xuICAgICAgICBkYXRhOiB1aW50OEFycmF5LFxuICAgICAgICB2ZXJib3NpdHk6IDBcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnUERGIGxvYWRpbmcgdGFzayBjcmVhdGVkJyk7XG4gICAgICBjb25zdCBwZGZEb2N1bWVudCA9IGF3YWl0IGxvYWRpbmdUYXNrLnByb21pc2U7XG4gICAgICBjb25zb2xlLmxvZygnUERGIGxvYWRlZCwgcGFnZXM6JywgcGRmRG9jdW1lbnQubnVtUGFnZXMpO1xuICAgICAgXG4gICAgICAvLyBHZXQgbWV0YWRhdGFcbiAgICAgIGNvbnN0IG1ldGFkYXRhID0gYXdhaXQgcGRmRG9jdW1lbnQuZ2V0TWV0YWRhdGEoKS5jYXRjaChlcnIgPT4gKHtcbiAgICAgICAgaW5mbzoge30sXG4gICAgICAgIG1ldGFkYXRhOiB7fVxuICAgICAgfSkpO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnTWV0YWRhdGEgbG9hZGVkOicsIG1ldGFkYXRhKTtcbiAgICAgIFxuICAgICAgLy8gRXh0cmFjdCB0ZXh0IGZyb20gZWFjaCBwYWdlXG4gICAgICBjb25zdCBwYWdlcyA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gcGRmRG9jdW1lbnQubnVtUGFnZXM7IGkrKykge1xuICAgICAgICBjb25zb2xlLmxvZyhgUHJvY2Vzc2luZyBwYWdlICR7aX0vJHtwZGZEb2N1bWVudC5udW1QYWdlc31gKTtcbiAgICAgICAgY29uc3QgcGFnZSA9IGF3YWl0IHBkZkRvY3VtZW50LmdldFBhZ2UoaSk7XG4gICAgICAgIFxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHRleHRDb250ZW50ID0gYXdhaXQgcGFnZS5nZXRUZXh0Q29udGVudCgpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFByb2Nlc3MgdGV4dCBpdGVtc1xuICAgICAgICAgIGNvbnN0IHBhZ2VUZXh0ID0gdGV4dENvbnRlbnQuaXRlbXNcbiAgICAgICAgICAgIC5tYXAoKGl0ZW06IGFueSkgPT4gaXRlbS5zdHIpXG4gICAgICAgICAgICAuam9pbignICcpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxzKy9nLCAnICcpXG4gICAgICAgICAgICAudHJpbSgpO1xuICAgICAgICAgIFxuICAgICAgICAgIHBhZ2VzLnB1c2goe1xuICAgICAgICAgICAgcGFnZU51bWJlcjogaSxcbiAgICAgICAgICAgIGNvbnRlbnQ6IHBhZ2VUZXh0IHx8ICdbTm8gdGV4dCBjb250ZW50IGZvdW5kXSdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAocGFnZUVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgcHJvY2Vzc2luZyBwYWdlICR7aX06YCwgcGFnZUVycm9yKTtcbiAgICAgICAgICBwYWdlcy5wdXNoKHtcbiAgICAgICAgICAgIHBhZ2VOdW1iZXI6IGksXG4gICAgICAgICAgICBjb250ZW50OiBgW0Vycm9yIHByb2Nlc3NpbmcgcGFnZSAke2l9XWAsXG4gICAgICAgICAgICBlcnJvcjogcGFnZUVycm9yLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDb21iaW5lIGFsbCB0ZXh0IGZvciByYXcgY29udGVudFxuICAgICAgY29uc3QgcmF3Q29udGVudCA9IHBhZ2VzXG4gICAgICAgIC5tYXAocCA9PiBwLmNvbnRlbnQpXG4gICAgICAgIC5maWx0ZXIoY29udGVudCA9PiBjb250ZW50ICE9PSAnW05vIHRleHQgY29udGVudCBmb3VuZF0nKVxuICAgICAgICAuam9pbignXFxuXFxuJyk7XG4gICAgICBcbiAgICAgIHJldHVybiBjcmVhdGVKc29uUmVzcG9uc2Uoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBwYWdlcyxcbiAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICB0aXRsZTogbWV0YWRhdGEuaW5mbz8uVGl0bGUgfHwgJycsXG4gICAgICAgICAgYXV0aG9yOiBtZXRhZGF0YS5pbmZvPy5BdXRob3IgfHwgJycsXG4gICAgICAgICAgc3ViamVjdDogbWV0YWRhdGEuaW5mbz8uU3ViamVjdCB8fCAnJyxcbiAgICAgICAgICBrZXl3b3JkczogbWV0YWRhdGEuaW5mbz8uS2V5d29yZHMgfHwgJycsXG4gICAgICAgICAgY3JlYXRvcjogbWV0YWRhdGEuaW5mbz8uQ3JlYXRvciB8fCAnJyxcbiAgICAgICAgICBwcm9kdWNlcjogbWV0YWRhdGEuaW5mbz8uUHJvZHVjZXIgfHwgJycsXG4gICAgICAgICAgcGFnZUNvdW50OiBwZGZEb2N1bWVudC5udW1QYWdlcyxcbiAgICAgICAgICB2ZXJzaW9uOiBtZXRhZGF0YS5pbmZvPy5QREZGb3JtYXRWZXJzaW9uLFxuICAgICAgICAgIGVuY3J5cHRlZDogbWV0YWRhdGEuaW5mbz8uSXNFbmNyeXB0ZWQgfHwgZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgcmF3Q29udGVudDogcmF3Q29udGVudCB8fCAnW05vIHRleHQgY29udGVudCBmb3VuZF0nXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignUERGLmpzIHByb2Nlc3NpbmcgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7IC8vIExldCB0aGUgb3V0ZXIgY2F0Y2ggaGFuZGxlIGl0XG4gICAgfVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBQREY6JywgZXJyb3IpO1xuICAgIC8vIFByb3ZpZGUgbW9yZSBkZXRhaWxlZCBlcnJvciBpbmZvcm1hdGlvblxuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xuICAgIGNvbnN0IGVycm9yU3RhY2sgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3Iuc3RhY2sgOiB1bmRlZmluZWQ7XG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBcbiAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gcGFyc2UgUERGJyxcbiAgICAgICAgZGV0YWlsczogZXJyb3JNZXNzYWdlLFxuICAgICAgICBzdGFjazogZXJyb3JTdGFjayxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiY3JlYXRlQ2xpZW50IiwiaW5pdFBkZkxpYiIsImNyZWF0ZUpzb25SZXNwb25zZSIsImRhdGEiLCJzdGF0dXMiLCJKU09OIiwic3RyaW5naWZ5IiwiaGVhZGVycyIsImNyZWF0ZVN1cGFiYXNlQWRtaW4iLCJzdXBhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJzdXBhYmFzZVNlcnZpY2VLZXkiLCJTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIiwiRXJyb3IiLCJhdXRoIiwiYXV0b1JlZnJlc2hUb2tlbiIsInBlcnNpc3RTZXNzaW9uIiwiUE9TVCIsInJlcXVlc3QiLCJjb25zb2xlIiwiZXJyb3IiLCJ1cmwiLCJzZXJ2aWNlS2V5IiwiZGV0YWlscyIsIm1ldGhvZCIsIm1lc3NhZ2UiLCJsb2ciLCJwZGZQYXRoIiwiYm9keSIsImpzb24iLCJzdXBhYmFzZUFkbWluIiwicGRmRGF0YSIsImRvd25sb2FkRXJyb3IiLCJzdG9yYWdlIiwiZnJvbSIsImRvd25sb2FkIiwiY29kZSIsInNpemUiLCJ0eXBlIiwiYXJyYXlCdWZmZXIiLCJ1aW50OEFycmF5IiwiVWludDhBcnJheSIsImxlbmd0aCIsInBkZkxpYiIsImxvYWRpbmdUYXNrIiwiZ2V0RG9jdW1lbnQiLCJ2ZXJib3NpdHkiLCJwZGZEb2N1bWVudCIsInByb21pc2UiLCJudW1QYWdlcyIsIm1ldGFkYXRhIiwiZ2V0TWV0YWRhdGEiLCJjYXRjaCIsImVyciIsImluZm8iLCJwYWdlcyIsImkiLCJwYWdlIiwiZ2V0UGFnZSIsInRleHRDb250ZW50IiwiZ2V0VGV4dENvbnRlbnQiLCJwYWdlVGV4dCIsIml0ZW1zIiwibWFwIiwiaXRlbSIsInN0ciIsImpvaW4iLCJyZXBsYWNlIiwidHJpbSIsInB1c2giLCJwYWdlTnVtYmVyIiwiY29udGVudCIsInBhZ2VFcnJvciIsInJhd0NvbnRlbnQiLCJwIiwiZmlsdGVyIiwic3VjY2VzcyIsInRpdGxlIiwiVGl0bGUiLCJhdXRob3IiLCJBdXRob3IiLCJzdWJqZWN0IiwiU3ViamVjdCIsImtleXdvcmRzIiwiS2V5d29yZHMiLCJjcmVhdG9yIiwiQ3JlYXRvciIsInByb2R1Y2VyIiwiUHJvZHVjZXIiLCJwYWdlQ291bnQiLCJ2ZXJzaW9uIiwiUERGRm9ybWF0VmVyc2lvbiIsImVuY3J5cHRlZCIsIklzRW5jcnlwdGVkIiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JTdGFjayIsInN0YWNrIiwidW5kZWZpbmVkIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/parse-pdf/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fparse-pdf%2Froute&page=%2Fapi%2Fparse-pdf%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fparse-pdf%2Froute.ts&appDir=%2FUsers%2Fjasonculbertson%2FDocuments%2FGitHub%2Fpowerwatch%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjasonculbertson%2FDocuments%2FGitHub%2Fpowerwatch&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();