(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[820,676,29],{6248:function(e,t,s){Promise.resolve().then(s.bind(s,7601))},7601:function(e,t,s){"use strict";s.d(t,{default:function(){return a}});var i=s(7437),r=s(2265),n=s(2141);function a(){let[e,t]=(0,r.useState)(""),[s,a]=(0,r.useState)(""),[l,o]=(0,r.useState)(null),[u,d]=(0,r.useState)(!1),[c,m]=(0,r.useState)(null),f=async i=>{i.preventDefault(),d(!0),m(null);try{let{data:i,error:r}=await n.O.from("users").insert([{name:e,email:s,has_pdf:!!l}]).select().single();if(r)throw r;if(l){let e=l.name.split(".").pop(),t="".concat(i.id,"-").concat(Math.random(),".").concat(e),{error:s}=await n.O.storage.from("pdfs").upload(t,l);if(s)throw s;let{error:r}=await n.O.from("users").update({pdf_path:t}).eq("id",i.id);if(r)throw r}t(""),a(""),o(null),alert("Successfully uploaded!")}catch(e){m(e instanceof Error?e.message:"An error occurred")}finally{d(!1)}};return(0,i.jsxs)("form",{onSubmit:f,className:"space-y-4 max-w-md mx-auto p-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,i.jsx)("input",{type:"text",id:"name",value:e,onChange:e=>t(e.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,i.jsx)("input",{type:"email",id:"email",value:s,onChange:e=>a(e.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"pdf",className:"block text-sm font-medium text-gray-700",children:"PDF File (optional)"}),(0,i.jsx)("input",{type:"file",id:"pdf",accept:".pdf",onChange:e=>{var t;return o((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)},className:"mt-1 block w-full"})]}),c&&(0,i.jsx)("div",{className:"text-red-600 text-sm",children:c}),(0,i.jsx)("button",{type:"submit",disabled:u,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:u?"Submitting...":"Submit"})]})}},2141:function(e,t,s){"use strict";s.d(t,{O:function(){return i}});let i=(0,s(3777).eI)("https://umuqydzeqqifiywqsxec.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVtdXF5ZHplcXFpZml5d3FzeGVjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzg5ODM5NzMsImV4cCI6MjA1NDU1OTk3M30.2cudPRraCD6W4oolwfnH5ZYm1CN9FOSkrs-brtsEEbk",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}})}},function(e){e.O(0,[777,971,117,744],function(){return e(e.s=6248)}),_N_E=e.O()}]);